{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, withModifiers as _withModifiers, createStaticVNode as _createStaticVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-a1caa672\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Registro de Laboratorio Clínico\", -1 /* HOISTED */));\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"cedula\"\n}, \"Cedula:\", -1 /* HOISTED */));\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"nombre\"\n}, \"Nombre:\", -1 /* HOISTED */));\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"apellido\"\n}, \"Apellido:\", -1 /* HOISTED */));\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"genero\"\n}, \"Genero:\", -1 /* HOISTED */));\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"\"\n}, \"Seleccione un genero\", -1 /* HOISTED */));\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"M\"\n}, \"Masculino\", -1 /* HOISTED */));\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"F\"\n}, \"Femenino\", -1 /* HOISTED */));\nconst _hoisted_9 = [_hoisted_6, _hoisted_7, _hoisted_8];\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"edad\"\n}, \"Fecha de nacimiento:\", -1 /* HOISTED */));\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"examen\"\n}, \"Examen:\", -1 /* HOISTED */));\nconst _hoisted_12 = /*#__PURE__*/_createStaticVNode(\"<option value=\\\"\\\" data-v-a1caa672>Seleccione un examen</option><option value=\\\"Covid\\\" data-v-a1caa672>Covid</option><option value=\\\"Antígenos\\\" data-v-a1caa672>Antígenos</option><option value=\\\"Hisopado\\\" data-v-a1caa672>Hisopado</option><option value=\\\"Examen X\\\" data-v-a1caa672>Examen X</option><option value=\\\"Examen Y\\\" data-v-a1caa672>Examen Y</option>\", 6);\nconst _hoisted_18 = [_hoisted_12];\nconst _hoisted_19 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */));\nconst _hoisted_20 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\"\n}, \"Registrar\", -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, _createElementVNode(\"form\", {\n    onSubmit: _cache[7] || (_cache[7] = _withModifiers((...args) => $options.registrar && $options.registrar(...args), [\"prevent\"]))\n  }, [_hoisted_2, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"cedula\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.cedula = $event),\n    maxlength: \"10\",\n    required: \"\",\n    onInput: _cache[1] || (_cache[1] = (...args) => $options.existe && $options.existe(...args))\n  }, null, 544 /* HYDRATE_EVENTS, NEED_PATCH */), [[_vModelText, $data.cedula]]), _hoisted_3, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"nombre\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.nombre = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.nombre]]), _hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"apellido\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.apellido = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.apellido]]), _hoisted_5, _withDirectives(_createElementVNode(\"select\", {\n    id: \"genero\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.genero = $event),\n    required: \"\"\n  }, _hoisted_9, 512 /* NEED_PATCH */), [[_vModelSelect, $data.genero]]), _hoisted_10, _withDirectives(_createElementVNode(\"input\", {\n    type: \"date\",\n    id: \"edad\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.edad = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.edad]]), _hoisted_11, _withDirectives(_createElementVNode(\"select\", {\n    id: \"examen\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.examen = $event),\n    required: \"\"\n  }, _hoisted_18, 512 /* NEED_PATCH */), [[_vModelSelect, $data.examen]]), _hoisted_19, _hoisted_20], 32 /* HYDRATE_EVENTS */)]);\n}","map":{"version":3,"names":["_createElementVNode","for","value","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_12","type","_createElementBlock","_hoisted_1","onSubmit","_cache","_withModifiers","args","$options","registrar","_hoisted_2","id","$data","cedula","$event","maxlength","required","onInput","existe","_hoisted_3","nombre","_hoisted_4","apellido","_hoisted_5","genero","_hoisted_10","edad","_hoisted_11","examen","_hoisted_19","_hoisted_20"],"sources":["D:\\WEB\\Servicios\\Proyecto Final\\client\\src\\components\\RegistroCliente.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2>Registro de Laboratorio Clínico</h2>\r\n\r\n    <form @submit.prevent=\"registrar\">\r\n      <label for=\"cedula\">Cedula:</label>\r\n      <input\r\n        type=\"text\"\r\n        id=\"cedula\"\r\n        v-model=\"cedula\"\r\n        maxlength=\"10\"\r\n        required\r\n        @input=\"existe\"\r\n      />\r\n\r\n      <label for=\"nombre\">Nombre:</label>\r\n      <input type=\"text\" id=\"nombre\" v-model=\"nombre\" required />\r\n\r\n      <label for=\"apellido\">Apellido:</label>\r\n      <input type=\"text\" id=\"apellido\" v-model=\"apellido\" required />\r\n\r\n      <label for=\"genero\">Genero:</label>\r\n      <select id=\"genero\" v-model=\"genero\" required>\r\n        <option value=\"\">Seleccione un genero</option>\r\n        <option value=\"M\">Masculino</option>\r\n        <option value=\"F\">Femenino</option>\r\n      </select>\r\n\r\n      <label for=\"edad\">Fecha de nacimiento:</label>\r\n      <input type=\"date\" id=\"edad\" v-model=\"edad\" required />\r\n\r\n      <label for=\"examen\">Examen:</label>\r\n      <select id=\"examen\" v-model=\"examen\" required>\r\n        <option value=\"\">Seleccione un examen</option>\r\n        <option value=\"Covid\">Covid</option>\r\n        <option value=\"Antígenos\">Antígenos</option>\r\n        <option value=\"Hisopado\">Hisopado</option>\r\n        <option value=\"Examen X\">Examen X</option>\r\n        <option value=\"Examen Y\">Examen Y</option>\r\n      </select>\r\n\r\n      <br />\r\n      <button type=\"submit\">Registrar</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"RegistroLab\",\r\n  data() {\r\n    return {\r\n      cedula: \"\",\r\n      nombre: \"\",\r\n      apellido: \"\",\r\n      genero: \"\",\r\n      edad: \"\",\r\n      examen: \"\",\r\n      baseURL: \"http://localhost:3000\",\r\n      siExiste: false,\r\n    };\r\n  },\r\n  methods: {\r\n    registrar() {\r\n      const paciente = {\r\n        _id: this.cedula,\r\n        Nombre: this.nombre,\r\n        Apellido: this.apellido,\r\n        Genero: this.genero,\r\n        FechaNac: this.edad,\r\n      };\r\n\r\n      var hoy = new Date();\r\n      const examen = {\r\n        CedulaPaciente: this.cedula,\r\n        Revisado: false,\r\n        FechaInicio: hoy,\r\n      };\r\n\r\n      if (!this.siExiste) {\r\n        fetch(`${this.baseURL}/crearPaciente`, {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify(paciente),\r\n        })\r\n          .then((res) => res.json())\r\n          .then((nuevoPaciente) => {\r\n            // Aquí puedes realizar alguna acción con la respuesta del backend\r\n            console.log(\"Nuevo paciente creado:\", nuevoPaciente);\r\n          })\r\n          .catch((error) => {\r\n            console.error(\"Error al crear el paciente:\", error);\r\n          });\r\n      }\r\n\r\n      fetch(`${this.baseURL}/crearExamen`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(examen),\r\n      })\r\n        .then((res) => res.json())\r\n        .then((nuevoExamen) => {\r\n          // Aquí puedes realizar alguna acción con la respuesta del backend\r\n          console.log(\"Nuevo examen creado:\", nuevoExamen);\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error al crear el examen:\", error);\r\n        });\r\n\r\n      this.cedula = \"\";\r\n      this.apellido = \"\";\r\n      this.genero.value = \"\";\r\n      this.edad = \"\";\r\n      this.examen.value = \"\";\r\n    },\r\n    existe() {\r\n      if (this.cedula != \"\") {\r\n        if (this.siExiste) {\r\n          this.nombre = \"\";\r\n          this.apellido = \"\";\r\n          this.genero = \" \";\r\n          this.edad = \"\";\r\n          this.examen = \" \";\r\n          this.siExiste = false;\r\n        }\r\n\r\n        fetch(`${this.baseURL}/buscarPaciente/${this.cedula}`)\r\n          .then((res) => {\r\n            if (res.ok) {\r\n              return res.json();\r\n            } else {\r\n              throw new Error(\"Error en la respuesta del servidor\");\r\n            }\r\n          })\r\n          .then((pacienteX) => {\r\n            if (pacienteX != null) {\r\n              this.nombre = pacienteX.Nombre;\r\n              this.apellido = pacienteX.Apellido;\r\n              this.genero = pacienteX.Genero;\r\n              this.edad = new Date(pacienteX.FechaNac)\r\n                .toISOString()\r\n                .substr(0, 10);\r\n              this.siExiste = true;\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            console.error(\"Error al encontrar el paciente:\", error);\r\n          });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh2 {\r\n  font-size: 24px;\r\n  margin-bottom: 16px;\r\n}\r\nlabel {\r\n  display: block;\r\n  margin-bottom: 8px;\r\n}\r\ninput,\r\nselect {\r\n  margin-bottom: 16px;\r\n}\r\nbutton {\r\n  background-color: #3490dc;\r\n  color: #fff;\r\n  padding: 8px 16px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\nul {\r\n  list-style-type: none;\r\n  padding: 0;\r\n}\r\nli {\r\n  margin-bottom: 8px;\r\n}\r\n</style>\r\n"],"mappings":";;gEAEIA,mBAAA,CAAwC,YAApC,iCAA+B;gEAGjCA,mBAAA,CAAmC;EAA5BC,GAAG,EAAC;AAAQ,GAAC,SAAO;gEAU3BD,mBAAA,CAAmC;EAA5BC,GAAG,EAAC;AAAQ,GAAC,SAAO;gEAG3BD,mBAAA,CAAuC;EAAhCC,GAAG,EAAC;AAAU,GAAC,WAAS;gEAG/BD,mBAAA,CAAmC;EAA5BC,GAAG,EAAC;AAAQ,GAAC,SAAO;gEAEzBD,mBAAA,CAA8C;EAAtCE,KAAK,EAAC;AAAE,GAAC,sBAAoB;gEACrCF,mBAAA,CAAoC;EAA5BE,KAAK,EAAC;AAAG,GAAC,WAAS;gEAC3BF,mBAAA,CAAmC;EAA3BE,KAAK,EAAC;AAAG,GAAC,UAAQ;oBAF1BC,UAA8C,EAC9CC,UAAoC,EACpCC,UAAmC,C;iEAGrCL,mBAAA,CAA8C;EAAvCC,GAAG,EAAC;AAAM,GAAC,sBAAoB;iEAGtCD,mBAAA,CAAmC;EAA5BC,GAAG,EAAC;AAAQ,GAAC,SAAO;;qBAEzBK,WAA8C,C;iEAQhDN,mBAAA,CAAM;iEACNA,mBAAA,CAAwC;EAAhCO,IAAI,EAAC;AAAQ,GAAC,WAAS;;;uBAzCnCC,mBAAA,CA2CM,cA1CJC,UAAwC,EAExCT,mBAAA,CAuCO;IAvCAU,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,SAAA,IAAAD,QAAA,CAAAC,SAAA,IAAAF,IAAA,CAAS;MAC9BG,UAAmC,E,gBACnChB,mBAAA,CAOE;IANAO,IAAI,EAAC,MAAM;IACXU,EAAE,EAAC,QAAQ;+DACFC,KAAA,CAAAC,MAAM,GAAAC,MAAA;IACfC,SAAS,EAAC,IAAI;IACdC,QAAQ,EAAR,EAAQ;IACPC,OAAK,EAAAZ,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAAU,MAAA,IAAAV,QAAA,CAAAU,MAAA,IAAAX,IAAA,CAAM;iEAHLK,KAAA,CAAAC,MAAM,E,GAMjBM,UAAmC,E,gBACnCzB,mBAAA,CAA2D;IAApDO,IAAI,EAAC,MAAM;IAACU,EAAE,EAAC,QAAQ;+DAAUC,KAAA,CAAAQ,MAAM,GAAAN,MAAA;IAAEE,QAAQ,EAAR;iDAARJ,KAAA,CAAAQ,MAAM,E,GAE9CC,UAAuC,E,gBACvC3B,mBAAA,CAA+D;IAAxDO,IAAI,EAAC,MAAM;IAACU,EAAE,EAAC,UAAU;+DAAUC,KAAA,CAAAU,QAAQ,GAAAR,MAAA;IAAEE,QAAQ,EAAR;iDAAVJ,KAAA,CAAAU,QAAQ,E,GAElDC,UAAmC,E,gBACnC7B,mBAAA,CAIS;IAJDiB,EAAE,EAAC,QAAQ;+DAAUC,KAAA,CAAAY,MAAM,GAAAV,MAAA;IAAEE,QAAQ,EAAR;yDAARJ,KAAA,CAAAY,MAAM,E,GAMnCC,WAA8C,E,gBAC9C/B,mBAAA,CAAuD;IAAhDO,IAAI,EAAC,MAAM;IAACU,EAAE,EAAC,MAAM;+DAAUC,KAAA,CAAAc,IAAI,GAAAZ,MAAA;IAAEE,QAAQ,EAAR;iDAANJ,KAAA,CAAAc,IAAI,E,GAE1CC,WAAmC,E,gBACnCjC,mBAAA,CAOS;IAPDiB,EAAE,EAAC,QAAQ;+DAAUC,KAAA,CAAAgB,MAAM,GAAAd,MAAA;IAAEE,QAAQ,EAAR;0DAARJ,KAAA,CAAAgB,MAAM,E,GASnCC,WAAM,EACNC,WAAwC,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}